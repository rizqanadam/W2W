<!DOCTYPE html>
<html lang="zxx">
<style>

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  /*z-index: 1;*/
}

.dropdown-content a {
  color: black;
  padding: 6px;
  text-align: left;
  text-decoration: none;
  display: block;
}

.header-margin {
    margin-top: auto;
    margin-bottom: auto;
}

.btn-oren {
    color: white !important;
    background-color: #FF5700 !important;
    width: 80% !important;
    /* border-radius: 10% !important; */
}

.detail-spacing {
    margin-bottom: 15px;
    color: #707070;
}
.checked {
  color: orange;
}

html * {
    font-family: 'Roboto' !important;
}

i {
    font-family: "FontAwesome" !important;

    display: inline-block;
    font-style: normal;
    font-variant: normal;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 1;
  font-size: small;
}

.dropdown:hover .dropdown-content {
  display: block;
}

.dropdown-content a:hover {
  color: #27AE60 ;
}

</style>

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Fashi Template">
    <meta name="keywords" content="Fashi, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Waste 2 Wealth</title>
    <link rel="icon" type="image/png" sizes="16x16" href="img/website-logo.png">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Muli:300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/themify-icons.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
    
    <!-- Header Section Begin -->
    <div class="col-md-10 offset-md-1">
    <header class="header-section" style="margin-bottom: 80px !important">
        <div class="header-top">
        <div class="container">
            <div class="inner-header" style="padding: 0 !important; padding-top: 15px !important">
                <div class="row">
                    <div class="col-lg-2 col-md-2" style="padding: 0;">
                        <div class="logo">
                            <a href="./index1.html">
                                <img src="img/website-logo.png">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-10 text-right col-md-10" style="padding: 10px;">
                        <button onclick="window.location.href='./index1.html';" class="btn">Home</button>
                        <button onclick="window.location.href='./enquiry-form-userview.html';" class="btn">Contact Us</button>
                        <div class="dropdown">
                          <button class="btn" type="button" data-toggle="dropdown" style="padding: 10px;"><img href="#" src="img/user.svg">
                          <h5 style="margin-top: 8px; color: black;">My Account</h5>
                          </button>
                          <div class="dropdown-content">
                            <a href="./myaccount-defaultview.html">My account</a>
                            <a href="./index.html">Logout</a>
                          </div>
                        </div>
                        <button onclick="window.location.href='./default-form-userview.html';" class="btn btn-warning">Submit Ad</button>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </header>
    <!-- Header End -->


    <div class="col-md-8 row" style="padding-bottom: 30px;">
        <a href="./index.html" style="text-decoration: underline; color: black;">Home</a>
        <div>&nbsp;>>&nbsp;</div>
        <a href="./productlistings1-viewall.html" style="text-decoration: underline; color: black;">Available</a>
        <div>&nbsp;>>&nbsp;</div>
        <a style="text-decoration: underline;">Entire Malaysia</a>
        <div>&nbsp;>>&nbsp;</div>
        <a id="maincategory" style="text-decoration: underline;">Waste</a>
        <div>&nbsp;>>&nbsp;</div>
        <a id="name" style="font-weight: bold; color: #008D50;">Plastic Pellets</a>
    </div>
    
    <div class="container" style="margin-bottom: 30px; margin-left: 15px;">
        <div class="row">
        <div class="col-md-4">
            <img id="main_image" src="../W2W/admin/plugins/images/bg.jpg" style="width: 398px; height: 372px; object-fit: cover;">
            <!-- width: 398px; height: 372px; -->
        <div id="sub_image" class="row" style="margin-top: 20px;">
            <!-- <div class="col-md-3">
                <img src="img/hensemboi.jpg" >
            </div>
            <div class="col-md-3">
                <img src="img/hensemboi.jpg">
            </div>
            <div class="col-md-3">
                <img src="img/hensemboi.jpg">
            </div>
            <div class="col-md-3">
                <img src="img/hensemboi.jpg">
            </div> -->
        </div>
        </div>
        <div class="col-md-4">
            <div id="id"></div>
            <div id="product_name" style="color: gray; margin-bottom: 10px;"></div>
            <label id="availability" style="color: white; background-color: green; border-radius: 10px; padding: 5px;">Available</label>
            <div id="product_price" style="margin-top: 20px; font-size: 26px; font-weight: bold;"></div>
            <div id="quantity_unit" style="color: gray;"></div>
        </div>
        <div class="col-md-4">
            <div style="margin-bottom: 10px;">For product pricing, customization or other inquiries :</div>
            <button id="reserve_btn" class="btn" data-toggle="modal" data-dismiss="modal" data-target="#reservemodal" style="background-color: #FF5700; color: white; width: 300px; border-radius: 50px;">Reserve</button>
        </div>
        </div>
    </div>
    </div>

    <div style="background-color: #FAFAFA;">
    <div class="container" style="padding: 30px;">
        <div class="card">
            <div style="background-color: #FAFAFA; padding: 10px; margin: 10px;">Material Information</div>
            <div style="padding: 20px;">
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Date of submission</label>
                </div>
                <div class="col-md-8">
                    <div id="date"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Material Status</label>
                </div>
                <div class="col-md-8">
                    <div id="mainstatus"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Name of Material</label>
                </div>
                <div class="col-md-8">
                    <div id="product_name2"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>State of Material</label>
                </div>
                <div class="col-md-8">
                    <div id="product_material"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Category</label>
                </div>
                <div class="col-md-8">
                    <div id="product_category"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Product Season</label>
                </div>
                <div class="col-md-8">
                    <div id="product_continuity"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Transportation Mode</label>
                </div>
                <div class="col-md-8">
                    <div id="product_transportation"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Details</label>
                </div>
                <div class="col-md-8">
                    <div id="product_desc">-</div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Quantity</label>
                </div>
                <div class="col-md-8">
                    <div id="product_quantityunit"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Shelf Life/ Degradation period</label>
                </div>
                <div class="col-md-8">
                    <div id="product_period"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Suggested Customer</label>
                </div>
                <div class="col-md-8">
                    <div id="suggestedcustomer"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Price of Material</label>
                </div>
                <div class="col-md-8">
                    <div id="product_price2"></div>
                </div>
            </div>
            <div id="location_display">
                <!-- <div class="row detail-spacing">
                    <div class="col-md-4">
                        <label>Waste (location 1)</label>
                    </div>
                    <div class="col-md-8">
                        <div id="product_location1">Pasir Gudang</div>
                    </div>
                </div>
                <div class="row detail-spacing">
                    <div class="col-md-4">
                        <label>State</label>
                    </div>
                    <div class="col-md-8">
                        <div id="product_state1">Johor</div>
                    </div>
                </div>
                <div class="row detail-spacing">
                    <div class="col-md-4">
                        <label>Waste (location 2)</label>
                    </div>
                    <div class="col-md-8">
                        <div id="product_location2">Kulai</div>
                    </div>
                </div>
                <div class="row detail-spacing">
                    <div class="col-md-4">
                        <label>State</label>
                    </div>
                    <div class="col-md-8">
                        <div id="product_state2">Johor</div>
                    </div>
                </div> -->
            </div>
            <div id="googleMap" style="width:60%;height:400px; margin-left: 365px;"></div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Supplier</label>
                </div>
                <div class="col-md-8">
                    <div id="supplier"></div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <label>Company Name</label>
                </div>
                <div class="col-md-8">
                    <div id="companyname">-</div>
                </div>
            </div>
            </div>
        </div>
    </div>
    <div class="container" style="padding: 30px;">
        <div class="card" style="padding: 30px;">
            <div style="font-size: 24px; font-weight: bold;">Ratings and Review</div>
            <div style="text-align: right; color: #0099FF;">View All</div>
            <div style="border-bottom: 2px solid lightgray;"></div>
            <div id="rating_list" style="padding: 20px;">
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <div style="color: blue; margin-top: 5px;">Ronnie Hussein</div>
                    <div style="margin-top: 5px;">Jan 31, 2020</div>
                </div>
                <div class="col-md-8">
                    <div>A product description is the marketing copy used to describe a product's value proposition to potential customers. As the shopper browses, they instinctively imagine having each product in hand, using it and enjoying it. The more powerful the customer's fantasy of owning the product, the more likely they are to buy it.</div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <div style="color: blue; margin-top: 5px;">Ronnie Hussein</div>
                    <div style="margin-top: 5px;">Jan 31, 2020</div>
                </div>
                <div class="col-md-8">
                    <div>A product description is the marketing copy used to describe a product's value proposition to potential customers. As the shopper browses, they instinctively imagine having each product in hand, using it and enjoying it. The more powerful the customer's fantasy of owning the product, the more likely they are to buy it.</div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star"></i>
                    <div style="color: blue; margin-top: 5px;">Ronnie Hussein</div>
                    <div style="margin-top: 5px;">Jan 31, 2020</div>
                </div>
                <div class="col-md-8">
                    <div>A product description is the marketing copy used to describe a product's value proposition to potential customers. As the shopper browses, they instinctively imagine having each product in hand, using it and enjoying it. The more powerful the customer's fantasy of owning the product, the more likely they are to buy it.</div>
                </div>
            </div>
            <div class="row detail-spacing">
                <div class="col-md-4">
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star checked"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <div style="color: blue; margin-top: 5px;">Ronnie Hussein</div>
                    <div style="margin-top: 5px;">Jan 31, 2020</div>
                </div>
                <div class="col-md-8">
                    <div>A product description is the marketing copy used to describe a product's value proposition to potential customers. As the shopper browses, they instinctively imagine having each product in hand, using it and enjoying it. The more powerful the customer's fantasy of owning the product, the more likely they are to buy it.</div>
                </div>
            </div>
            </div>
        </div>
    </div>
    <div class="container" style="padding: 30px;">
        <div class="card" style="padding: 30px;">
            
            <div style="font-size: 24px; font-weight: bold;">Question about this product</div>
            <div style="text-align: right;">View All</div>
            <div style="border-bottom: 2px solid lightgray;"></div>
            <div id="listcomment" style="padding: 20px;">
            <div id="beforeask" style="padding: 20px;">
                <div class="text-center">There are no question yet.</div>
                <div class="text-center">Ask the seller now and their answer will be hear.</div>
                <div id="ask_btn" class="text-center" style="color: #FF7600; margin-top: 10px; font-weight: bold; cursor: pointer;">Ask Question</div>
            </div>
            

            </div>
            <form id="askform" onsubmit="return false">
                <div id="askquestion" style="margin-top: 30px; display: none;">
                    <textarea id="askquestion2" cols="128" rows="2" placeholder="Ask your question..." class="form-control" required></textarea>
                    <div id="error" style="color: red; font-size: 14px;"></div>
                    <br>
                    <div id="submit" type="button" style="cursor: pointer; color: #FF7600; margin-top: 10px; font-weight: bold; text-align: right;">Submit</div>
                </div>
            </form>
        </div>
    </div>
    <div class="container" style="padding: 30px; margin-bottom: 50px;">
        <div style="font-size: 24px; font-weight: bold; margin: 20px;">Similar Ads</div>
        <div class="row">
        <div class="card col-md-2 mx-auto" style="padding: 20px;">
            <img src="img/petroleum.jpg" style="margin-bottom: 20px;">
            <div style="color: #8B8B8B; margin-bottom: 5px;">Organic Compose</div>
            <div style="font-size: 24px; margin-bottom: 0;">RM 100</div>
        </div>
        <div class="card col-md-2 mx-auto" style="padding: 20px;">
            <img src="img/petroleum.jpg" style="margin-bottom: 20px;"> 
            <div style="color: #8B8B8B; margin-bottom: 5px;">Organic Compose</div>
            <div style="font-size: 24px; margin-bottom: 0;">RM 100</div>
        </div>
        <div class="card col-md-2 mx-auto" style="padding: 20px;">
            <img src="img/petroleum.jpg" style="margin-bottom: 20px;">
            <div style="color: #8B8B8B; margin-bottom: 5px;">Organic Compose</div>
            <div style="font-size: 24px; margin-bottom: 0;">RM 100</div>
        </div>
        <div class="card col-md-2 mx-auto" style="padding: 20px;">
            <img src="img/petroleum.jpg" style="margin-bottom: 20px;">
            <div style="color: #8B8B8B; margin-bottom: 5px;">Organic Compose</div>
            <div style="font-size: 24px; margin-bottom: 0;">RM 100</div>
        </div>
        <div class="card col-md-2 mx-auto" style="padding: 20px;">
            <img src="img/petroleum.jpg" style="margin-bottom: 20px;">
            <div style="color: #8B8B8B; margin-bottom: 5px;">Organic Compose</div>
            <div style="font-size: 24px; margin-bottom: 0;">RM 100</div>
        </div>
        </div>
    </div>
</div>


    <footer id="footer" class="footer-section" style="background-color: #3A595D;">
        <div class="container">
             <div class="row" style="padding-top: 5px;">
             <div class="col-lg-2 text-right">
                 <a href="#" style="color: white;">Contact Us</a>
             </div>
             <div class="col-lg-4">
                 <a href="#" style="color: white;">Terms and Conditions</a>
             </div>
             <div class="col-lg-5 text-right">
                 <p style="color: white;"><i class="fa fa-copyright"></i>Prospect W2W. All rights reserved.</p>
             </div>
             </div>
         </div>
     </footer>

     <!-- reserve modal -->
     <div class="modal fade" id="reservemodal" role="dialog"  style="top: 10%; left: 5%;">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
              <div style="font-size: 28px; font-weight: bold; margin-bottom: 30px;">Make an offer</div>
              <form id="reserveform" onsubmit="return false">
              <div class="row text-padding" style="margin-bottom: 20px;">
                
                  <div class="col-md-3" style="margin-top: auto; margin-bottom: auto;">
                      <div>Price</div>
                  </div>
                  <div class="col-md-2" style="margin-top: auto; margin-bottom: auto;">
                      <div>RM</div>
                  </div>
                  <div class="col-md-4" style="padding-left: 0;">
                      <input id="offerprice" type="text" class="form-control" pattern="[0-9]+([,\.][0-9]+)?" required>
                  </div>
              </div>
              <div class="row text-padding" style="margin-bottom: 20px;">
                  <div class="col-md-3" style="margin-top: auto; margin-bottom: auto;">
                      <div>Quantity</div>
                  </div>
                  <div class="col-md-3" style="padding-left: 0;">
                      <input id="quantity_reserve" type="text" class="form-control" pattern="\d*" required>
                  </div>
                  <div class="col-md-2 text-right" style="margin-top: auto; margin-bottom: auto;">
                      <div>Unit</div>
                  </div>
                  <div class="col-md-3" style="padding-left: 0;">
                      <input id="unit_reserve" type="text" class="form-control" required>
                  </div>
              </div>
              <div class="row text-padding" style="margin-bottom: 20px;">
                  <div class="col-md-12" style="margin-top: auto; margin-bottom: auto;">
                      <textarea id="additional_reserve" type="text" class="form-control" placeholder="Additional Information"></textarea>
                  </div>
              </div>
              <button id="makeoffer_btn" class="btn btn-oren" style="width: 100% !important; margin-bottom: 10px;">Make an offer</button>
              <button class="btn btn-oren-cancell" style="width: 100% !important;" data-dismiss="modal">Cancel</button>
            </form>
          </div>
      </div>
    </div>
    </div>

    <!-- success reserve modal -->
    <div class="modal fade" id="successmodal" role="dialog"  style="top: 10%; left: 4%;">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
              <div style="font-size: 28px; font-weight: bold; margin-bottom: 30px;"></div>
             
              <div class="" style="margin-top: 40px; text-align: center;"> 
                <img src="./img/checked.svg">  
              </div>
              <div class="col-md-12" style="margin-top: 60px; text-align: center; font-weight: bold; font-size: 20px;" >
                Your offer have been submitted and the seller will be notified.
              </div>

              <div class="col-md-12" style="margin-top: 30px; text-align: center;" >
                You have to wait for their approval
              </div>

              <div class="col-md-12" style="margin-top: 30px; text-align: center;" >
                <a href="./productdetails-defaultview1.html" style="text-decoration: underline; color: #0099FF;"><-- Back</a>
              </div>
      </div>
    </div>
    </div>
    </div>

    <!-- submitted enquiry modal -->
    <div class="modal fade bd-example-modal-sm mx-auto"  style=" margin: 100px; margin-right: -300px;" id="questionmodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
          
            <div class="modal-content" style="text-align: center; width: 90%; padding: 50px; border-radius: 10px;">
                <div class="modal-body mx-auto">
                  <img src="img/checkijau.svg">
                </div>
                <div class="mx-auto" style="margin: 10px; color: #27AE60; font-size: 28px;">Your comment has been submitted!</div>
              </div>
        </div>
    </div>



    <!-- Js Plugins -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery.zoom.min.js"></script>
    <script src="js/jquery.dd.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html> 

<script>

$(document).ready(function(){
        $userid = localStorage.getItem('user_id');
        $product_id = localStorage.getItem('product_detail');
        
        productDetails();
        supplier_company();
        listRating();
        myMap();
        displaycomment();
        check_val();

        $('#listcomment').delegate('#ask_btn', 'click', function() {
            $('#beforeask').css('display','none');
            $('#askquestion').css('display','block');
        });

        $('#listcomment').delegate('#submit', 'click', function() {
            if($('#askquestion2').val() == ""){
                $('#error').html('Please fill this field');
            }
            else{
                document.getElementById('submit').style.pointerEvents = 'none';
                $("#submit").html('Submitting...').css('cursor','').css('color','lightgrey');
                comment();
            }
        });

        var highlightForm = document.querySelector("form#reserveform");
        highlightForm.addEventListener('submit',highlight , false);

        function highlight(event)
        {
            event.preventDefault();
            reserveproduct();
            return false;
        }
        

    });

    function check_val(){
        var bad_words=new Array("shit","f*ck","fuck","piss off","dick head","asshole","son of bitch","son of b*tch",
        "bastard","bitch","damn","bloody hell","rubbish","bodoh","gila","babi","teruk");
        var check_text=document.getElementById("askquestion2").value;
        var error=0;
        for(var i=0;i<bad_words.length;i++)
        {
            var val=bad_words[i];
        if((check_text.toLowerCase()).indexOf(val.toString())>-1)
        {
            error=error+1;
        }
        }
            
        if(error>0)
        {
            document.getElementById("submit").style.visibility = "hidden";
            document.getElementById("error").innerHTML="Some bad words in your comment.";
        }
        else
        {
            document.getElementById("submit").style.visibility = "visible";
            document.getElementById("error").innerHTML="";
        }   
    }

    function productDetails() {
        $.ajax({
            url : "http://codeviable.com/w2w2/public/product/detail?product_id=",
            type : "GET",
            data : {"product_id" : $product_id}
        }).done(function(response){
            
            console.log(response)
            $('#maincategory').html(response[0].maincategory).css('text-transform','capitalize');
            $('#name').html(response[0].product_name).css('text-transform','capitalize');
            $('#id').html(response[0].product_id).css('text-transform','capitalize');
            $('#product_name').html(response[0].product_name).css('text-transform','capitalize');
            $('#product_price').html('RM ' +response[0].product_price).css('text-transform','capitalize');
            $('#quantity_unit').html(response[0].product_quantity+" "+response[0].unit);
            $('#date').html(response[0].product_date).css('text-transform','capitalize');
            $('#mainstatus').html(response[0].mainstatus).css('text-transform','capitalize');
            $('#product_name2').html(response[0].product_name).css('text-transform','capitalize');
            $('#product_material').html(response[0].product_material).css('text-transform','capitalize');
            $('#product_category').html(response[0].product_category).css('text-transform','capitalize');
            $('#product_continuity').html(response[0].product_continuity).css('text-transform','capitalize');
            $('#product_transportation').html(response[0].product_transport);
            
            $('#main_image').attr('src',response[0].product_image[0].image);

           
            

            if(response[0].product_desc != ""){
                $('#product_desc').html(response[0].product_desc).css('text-transform','capitalize');
            }
            
            $('#product_quantityunit').html(response[0].product_quantity+" "+response[0].unit);
            $('#product_period').html(response[0].product_period).css('text-transform','capitalize');
            $('#suggestedcustomer').html(response[0].suggestcustomer).css('text-transform','capitalize');
            
            if(response[0].product_price == "0.00"){
                $('#product_price2').html('Free');
            }
            else{
                $('#product_price2').html('RM ' +response[0].product_price).css('text-transform','capitalize');
            }

            //product location
            var tr = "";
            var bil = 1;
            $.each(response[0].product_location, function(i,data){
                    if(response[0].maincategory == "waste" && response[0].product_location[i].location != "")
                        tr += '<div class="row detail-spacing"><div class="col-md-4"><label>Waste (location '+bil+')</label></div><div class="col-md-8"><div id="product_location1">'+response[0].product_location[i].location+'</div></div></div>';
                    
                    else if(response[0].maincategory == "technology" && response[0].product_location[i].location != "")
                        tr += '<div class="row detail-spacing"><div class="col-md-4"><label>Technology (location '+bil+')</label></div><div class="col-md-8"><div id="product_location1">'+response[0].product_location[i].location+'</div></div></div>';
                    
                    else if(response[0].maincategory == "service" && response[0].product_location[i].location != "")
                        tr += '<div class="row detail-spacing"><div class="col-md-4"><label>Service (location '+bil+')</label></div><div class="col-md-8"><div id="product_location1">'+response[0].product_location[i].location+'</div></div></div>';
                    
                    if(response[0].product_state[i].state !== "null" && response[0].product_state[i].state !== "undefined")
                        tr += '<div class="row detail-spacing"><div class="col-md-4"><label>State</label></div> <div class="col-md-8"><div id="product_state1">'+response[0].product_state[i].state+'</div></div></div>'
                        bil++;     
            });
            $('#location_display').html(tr);

            localStorage.setItem('product_user',response[0].user_id);

            var tr2 = "";
            var no = 1;
            $.each(response[0].product_image, function(i,data){
                    if( i != 0){
                    tr2 += '<div class="col-md-3"><img src='+response[0].product_image[i].image+' style="width: 70px; height: 50px; object-fit: cover;"></div>';
                    }
                    no++;
            });
            $('#sub_image').html(tr2);

            localStorage.setItem('latitude', response[0].latitud[0].latitud);
            localStorage.setItem('longitude', response[0].longitud[0].longitud);

            $('.loader').addClass("hide-loader");
        });
    }


    function supplier_company(){
        var product_user = localStorage.getItem('product_user');

        $.ajax({
            url : "http://codeviable.com/w2w2/public/user/detail?user_id=",
            data : {"user_id" : product_user}
        }).done(function(response){
            console.log(response)
            $('#supplier').html(response.user_fname+" "+response.user_lname).css('text-transform','capitalize');
            
            if(response.companyname != null){
                S$('#companyname').html(response.companyname);
            }
        });
    }
    
    var lat = localStorage.getItem('latitude');
        var lng = localStorage.getItem('longitude');
        function myMap() {
        var mapProp = {
            center: new google.maps.LatLng(lat, lng),
            zoom: 15,
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        var marker = new google.maps.Marker({ position: new google.maps.LatLng(lat, lng), map: map });
        }   
        $(document).ready(myMap);

        function comment() {
            var comment = $('#askquestion2').val();
            var postdata = {
                "product_id" : $product_id,
                "title" : null,
                "description" : comment,
                "user_id" : $userid
            }

            $.ajax({
                url : "http://codeviable.com/w2w2/public/comment?product_id=&title=&description=",
                type : "POST",
                data : postdata
            }).done(function(response){
                $('#questionmodal').modal('toggle');
                $("#questionmodal").on('hide.bs.modal', function() { 
                    location.reload();
                });
            });
        }
        

        function displaycomment(){
            $.ajax({
                url : "http://codeviable.com/w2w2/public/comment/listing?product_id=",
                type : "GET",
                data : { "product_id" : $product_id }
            }).done(function(response){
                var tr = "";
                if(response == 0){
                        tr += '<div id="beforeask" style="padding: 20px;"><div class="text-center">There are no question yet.</div><div class="text-center">Ask the seller now and their answer will be hear.</div><div id="ask_btn" class="text-center ask_btn" style="color: #FF7600; margin-top: 10px; font-weight: bold; cursor: pointer;">Ask Question</div></div>'
                        tr += '<form id="askform" onsubmit="return false"><div id="askquestion" style="margin-top: 30px; display: none;"><textarea onKeyUp="check_val()" id="askquestion2" cols="128" rows="2" placeholder="Ask your question..." class="form-control" required></textarea><div id="error" style="margin-top: 10px; color: red; font-size: 14px;"></div><br><div id="submit" type="button" style="cursor: pointer; color: #FF7600; margin-top: 10px; font-weight: bold; text-align: right;">Submit</div></div></form>';
                } 

                else if(response != 0){  
                 $.each(response, function(i,data){
                    var date = data.created_at[0]+''+data.created_at[1]+' '+data.created_at[3]+data.created_at[4]+data.created_at[5]+' '+data.created_at[7]+data.created_at[8]+data.created_at[9]+data.created_at[10];
                    tr += '<div class="row detail-spacing"><div class="col-md-4"><div style="color: #0099FF; margin-top: 5px; font-size: 16px; text-transform: capitalize;">'+data.user_fname+' '+data.user_lname+'</div><div style="margin-top: 5px; font-size: 12px;">'+date+'</div></div><div class="col-md-8"><div>'+data.description+'</div></div></div>';
                 });
                 tr += '<form id="askform" onsubmit="return false"><div id="askquestion" style="margin-top: 30px;"><textarea onKeyUp="check_val()" id="askquestion2" cols="128" rows="2" placeholder="Ask your question..." class="form-control" required></textarea><div id="error" style="color: red; font-size: 14px; margin-top: 10px;"></div><br><div id="submit" type="button" style="cursor: pointer; color: #FF7600; margin-top: 10px; font-weight: bold; text-align: right;">Submit</div></div></form>';   
                }
                 $('#listcomment').html(tr)
            })
        }

        function listRating() {
            $.ajax({
                url : "http://codeviable.com/w2w2/public/review/list?product_id=",
                type : "GET",
                data : { "product_id" : $product_id}
            }).done(function(response){
                console.log(response);

                var row = "";

                $.each(response, function(i,data){
                    var date = data.created_at[8]+''+data.created_at[9]+'/'+data.created_at[5]+''+data.created_at[6]+'/'+data.created_at[0]+''+data.created_at[1]+''+data.created_at[2]+''+data.created_at[3];

                    row += '<div class="row detail-spacing"><div class="col-md-4"><i class="fa fa-star checked"></i><i class="fa fa-star checked"></i><i class="fa fa-star checked"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><div style="color: blue; margin-top: 5px;">Ronnie Hussein</div><div style="margin-top: 5px; font-size: 12px;">'+date+'</div></div><div class="col-md-8"><div>'+response[i].description+'</div></div></div>';
                });

                $('#rating_list').html(row);
            })
        }

        function reserveproduct() {
            $('#makeoffer_btn').prop('disabled','true');
            var postdata = {
                "product_id" : $product_id,
                "buyer_id" : $userid,
                "offeredprice" : $('#offerprice').val(),
                "quantity" : $('#quantity_reserve').val(),
                "unit" : $('#unit_reserve').val(),
                "info" : $('#additional_reserve').val(),
            }
            $.ajax({
                url : "http://codeviable.com/w2w2/public/reserve",
                type : "POST",
                data : postdata
            }).done(function(response){
                
                console.log(response);
                $('#reservemodal').modal('hide');
                $('#successmodal').modal('toggle');
            })
        }

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCFV9i4F6pI4UF94WD-7k-TZ0ZzW6Hz3AA&callback=myMap"></script>